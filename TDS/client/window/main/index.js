"use strict";var e=void 0,t=void 0,a=void 0,o=void 0,s=void 0,n="ENGLISH",i=void 0,r=void 0,l=void 0,d=void 0,p=void 0,c=void 0,v=void 0,f=void 0,u="",m=!1,g=[],_=[],h="",b=!1,y=!1,C=!1;function setMoney(e){t.text("$"+e)}function playSound(e){$("#audio_"+e).trigger("play").volume=.05}function showBloodscreen(){a.stop().show(0).hide(2500)}function w(e){var t='<span style="color: white;">',a=e;return-1!==e.indexOf("~")&&(a=a.replace(/~r~/g,'</span><span style="color: rgb(222, 50, 50);">').replace(/~b~/g,'</span><span style="color: rgb(92, 180, 227);">').replace(/~g~/g,'</span><span style="color: rgb(113, 202, 113);">').replace(/~y~/g,'</span><span style="color: rgb(238, 198, 80);">').replace(/~o~/g,'</span><span style="color: rgb(253, 132, 85);">').replace(/~s~/g,'</span><span style="color: rgb(220, 220, 220);">').replace(/~w~/g,'</span><span style="color: white;">').replace(/~dr~/g,'</span><span style="color: rgb( 169, 25, 25 );">').replace(/~n~/g,"<br>")),t+a+"</span>"}function x(e){e.remove()}function addKillMessage(e){var t=$("<text>"+w(e)+"<br></text>");o.append(t),t.delay(11e3).fadeOut(4e3,t.remove)}function openMapMenu(t,a){e.show(1e3),m=!0,n=t,u="",h="",i.empty(),r.empty(),l.empty(),d.empty(),s=JSON.parse(a);for(var o=0;o<s.length;++o){var p=$("<div>"+s[o].Name+"</div>");0===s[o].Type?i.append(p):r.append(p),-1!=_.indexOf(s[o].Name)&&l.append(p.clone())}for(var c=0;c<g.length;++c)d.append($("<div>"+g[c].name+"</div>"));i.selectable("refresh"),r.selectable("refresh"),l.selectable("refresh"),d.selectable("refresh")}function closeMapMenu(){m=!1,e.hide(500),y&&(v.hide(500),c.hide(500),f.hide(500),y=!1)}function O(e,t){return e.votes>t.votes?-1:1}function M(){g.sort(O)}function N(e){g.push({name:e,votes:1});var t=$("<div>"+g.length+". "+e+" (1)</div>");p.append(t),m&&(d.append($("<div>"+e+"</div>")),d.selectable("refresh")),h===e&&(t.addClass("mapvoting_selected"),h="")}function k(){for(var e=p.children(),t=0;t<e.length;++t)t in g?e.eq(t).text(t+1+". "+mapname+" ("+votes[t].votings+")"):g.splice(t)}function S(e){for(var t=0;t<g.length;++t)if(g[t].name===e){--g[t].votes<=0&&(g.splice(t,1),p.children().eq(t).remove());break}k()}function addVoteToMapVoting(e,t){h===e&&$(".mapvoting_selected").removeClass("mapvoting_selected"),void 0!==t&&S(t);for(var a=!1,o=0;o<g.length&&!a;++o)if(g[o].name===e){++g[o].votes;var s=p.children().eq(o);s.text(o+1+". "+e+"("+g[o].votes+")"),h===e&&(s.addClass("mapvoting_selected"),h=""),a=!0}a||N(e),M()}function loadMapVotings(e){var t=JSON.parse(mapsvotesjson);g=[];for(var a in t)g.push({name:a,votes:t[a]});M()}function clearMapVotings(){g=[]}function T(){b=!0,v.disabled=!0,setTimeout(function(){b=!1,v.disabled=!1},1500)}$("body").keydown(function(e){var t=e.which;if(t>=97&&t<=105){if(b)return;e.preventDefault();var a=9-(105-t)-1;g.length>a&&(h=g[a].name,mp.trigger("onMapMenuVote",h),T())}});function D(e){-1!==_.indexOf(e)?C||(f.removeClass("add_map_to_favourites_notselected").addClass("add_map_to_favourites_selected"),C=!0):C&&(f.removeClass("add_map_to_favourites_selected").addClass("add_map_to_favourites_notselected"),C=!1)}function loadFavouriteMaps(e){_=JSON.parse(e)}$(document).ready(function(){e=$("#mapmenu"),p=$("#mapvoting"),t=$("#money"),a=$("#bloodscreen"),o=$("#kill_messages_box"),i=$("#tabs-1"),r=$("#tabs-2"),l=$("#tabs-3"),d=$("#tabs-4"),c=$("#map_info"),v=$("#choose_map_button"),f=$("#add_map_to_favourites"),$("#tabs").tabs({collapsible:!0,heightStyle:"fill"}),$(".tab_list").each(function(e,t){$(this).selectable({selected:function e(t,a){$(".ui-selected").removeClass("ui-selected"),$(a.selected).addClass("ui-selected");for(var o=a.selected.innerHTML,i=0;i<s.length;++i)if(o===s[i].Name)return u=o,y||(v.show(0),c.show(0),f.show(0),y=!0),D(o),void c.html(s[i].Description[n])},autoRefresh:!1})}),v.click(function(e){e.preventDefault(),b||""!==u&&(h=u,mp.trigger("onMapMenuVote",h),T())}),f.click(function(e){if(e.preventDefault(),""!==u){var t=_.indexOf(u);-1===t?(_.push(u),f.removeClass("add_map_to_favourites_notselected").addClass("add_map_to_favourites_selected"),mp.trigger("onClientToggleMapFavourite",u,!0),l.append($("<div>"+u+"</div>"))):(_.splice(t,1),f.removeClass("add_map_to_favourites_selected").addClass("add_map_to_favourites_notselected"),mp.trigger("onClientToggleMapFavourite",u,!1),l.children("div:contains('"+u+"')").remove()),l.selectable("refresh")}})});