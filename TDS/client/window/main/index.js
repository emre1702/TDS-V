"use strict";var e=void 0,n=void 0,t=void 0,o=void 0,a=void 0,s="ENGLISH",r=void 0,i=void 0,l=void 0,c=void 0,p=void 0,d=void 0,v="",f=!1,u=[],g="",m=!1;function setMoney(e){n.text("$"+e)}function playSound(e){$("#audio_"+e).trigger("play").volume=.05}function showBloodscreen(){t.stop().show(0).hide(2500)}function h(e){var n='<span style="color: white;">',t=e;return-1!==e.indexOf("~")&&(t=t.replace(/~r~/g,'</span><span style="color: rgb(222, 50, 50);">').replace(/~b~/g,'</span><span style="color: rgb(92, 180, 227);">').replace(/~g~/g,'</span><span style="color: rgb(113, 202, 113);">').replace(/~y~/g,'</span><span style="color: rgb(238, 198, 80);">').replace(/~o~/g,'</span><span style="color: rgb(253, 132, 85);">').replace(/~s~/g,'</span><span style="color: rgb(220, 220, 220);">').replace(/~w~/g,'</span><span style="color: white;">').replace(/~dr~/g,'</span><span style="color: rgb( 169, 25, 25 );">').replace(/~n~/g,"<br>")),n+t+"</span>"}function b(e){e.remove()}function addKillMessage(e){var n=$("<text>"+h(e)+"<br></text>");o.append(n),n.delay(11e3).fadeOut(4e3,n.remove)}function openMapMenu(n,t){e.show(1e3),f=!0,s=n,v="",g="",r.empty(),i.empty(),l.empty(),a=JSON.parse(t);for(var o=0;o<a.length;++o){var c=$("<div>"+a[o].Name+"</div>");0===a[o].Type?r.append(c):i.append(c)}for(var p=0;p<u.length;++p)l.append($("<div>"+u[p].name+"</div>"));r.selectable("refresh"),i.selectable("refresh"),l.selectable("refresh")}function closeMapMenu(){f=!1,e.hide(500)}function y(e,n){return e.votes>n.votes?1:-1}function _(){u.sort(y)}function w(e){u.push({name:e,votes:1});var n=$("<div>"+u.length+". "+e+" (1)</div>");c.append(n),f&&(l.append($("<div>"+e+"</div>")),l.selectable("refresh")),g===e&&(n.addClass("mapvoting_selected"),g="")}function x(){for(var e=c.children(),n=0;n<e.length;++n)n in u?e.eq(n).text(n+1+". "+mapname+" ("+votes[n].votings+")"):u.splice(n)}function C(e){for(var n=0;n<u.length;++n)if(u[n].name===e){--u[n].votes<=0&&(u.splice(n,1),c.children().eq(n).remove());break}x()}function addVoteToMapVoting(e,n){g===e&&$(".mapvoting_selected").removeClass("mapvoting_selected"),void 0!==n&&C(n);for(var t=!1,o=0;o<u.length&&!t;++o)if(u[o].name===e){++u[o].votes;var a=c.children().eq(o);a.text(o+1+". "+e+"("+u[o].votes+")"),g===e&&(a.addClass("mapvoting_selected"),g=""),t=!0}t||w(e),_()}function loadMapVotings(e){var n=JSON.parse(mapsvotesjson);u=[];for(var t in n)u.push({name:t,votes:n[t]});_()}function clearMapVotings(){u=[]}function M(){m=!0,d.disabled=!0,setTimeout(function(){m=!1,d.disabled=!1},1500)}$("body").keydown(function(e){var n=e.which;if(n>=97&&n<=105){if(m)return;e.preventDefault();var t=9-(105-n)-1;u.length>t&&(g=u[t].name,mp.trigger("onMapMenuVote",g),M())}}),$(document).ready(function(){e=$("#mapmenu"),c=$("#mapvoting"),n=$("#money"),t=$("#bloodscreen"),o=$("#kill_messages_box"),r=$("#tabs-1"),i=$("#tabs-2"),l=$("#tabs-3"),p=$("#map_info"),d=$("#choose_map_button"),$("#tabs").tabs({collapsible:!0,heightStyle:"fill"}),$(".tab_list").each(function(e,n){$(this).selectable({selected:function e(n,t){$(t.selected).addClass("ui-selected").siblings().removeClass("ui-selected");for(var o=t.selected.innerHTML,r=0;r<a.length;++r)if(o===a[r].Name)return v=o,void p.html(a[r].Description[s])},autoRefresh:!1})}),d.click(function(e){e.preventDefault(),m||""!==v&&(g=v,mp.trigger("onMapMenuVote",g),M())})});