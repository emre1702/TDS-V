"use strict";function addAutocomplete(e,t){e.bind("keydown",function(e){e.keyCode===$.ui.keyCode.TAB&&$(this).data("autocomplete").menu.active&&e.preventDefault()}).autocomplete({minLength:1,source:function e(n,u){var i=n.term,a=[],l=i.lastIndexOf("#")>i.lastIndexOf("@")?"#":"@";i.indexOf(l)>=0&&(i=n.term.split(new RegExp(l+"\\s*")).pop()).length>0&&(a=$.ui.autocomplete.filter(t,i)),u(a)},focus:function e(){return!1},select:function t(n,u){var i,a=e.val(),l;return a.lastIndexOf("#")>a.lastIndexOf("@")?(i=a.split(/#\s*/),u.item.value=u.item.value):(i=a.split(/@\s*/),u.item.value="@"+u.item.value+":"),i.pop(),i.push(u.item.value),i.push(""),e.val(i.join("")),!1},autoFocus:!0})}