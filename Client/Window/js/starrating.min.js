"use strict";var SimpleStarRating=function(){function SimpleStarRating(n,t){function attr(t,e){var a=n.getAttribute(t);return a||e}var e=parseInt(attr("data-stars",5)),r=void 0!==n.getAttribute("disabled"),a=parseFloat(attr("data-default-rating",0)),s=-1,d=[];n.style.display="inline-block";for(var i=0;i<e;i++){var u=document.createElement("span");u.className="star",u.addEventListener("click",starClick),0<i?d[i-1].appendChild(u):n.appendChild(u),d.push(u)}function disable(){n.setAttribute("disabled",""),r=!0}function enable(){n.removeAttribute("disabled"),r=!1}function setCurrentRating(t){s=t,n.setAttribute("data-rating",s),showCurrentRating()}function setDefaultRating(t){a=t,n.setAttribute("data-default-rating",a),showDefaultRating()}this.disable=disable,this.enable=enable,this.setCurrentRating=setCurrentRating,this.setDefaultRating=setDefaultRating;var onrate=t;function showRating(t){clearRating();for(var e=0;e<d.length&&!(t<=e);e++)e===Math.floor(t)&&e!==t&&d[e].classList.add("half"),d[e].classList.add("active")}function showCurrentRating(){var t=parseFloat(attr("data-rating",0));t?showRating(s=t):showDefaultRating()}function showDefaultRating(){showRating(a=parseFloat(attr("data-default-rating",0)))}function clearRating(){for(var t=0;t<d.length;t++)d[t].classList.remove("active"),d[t].classList.remove("half")}function starClick(t){if(!r&&this===t.target){var e=d.indexOf(t.target);if(-1!==e){var a=e+1;setCurrentRating(a),"function"==typeof onrate&&onrate(s);var i=new CustomEvent("rate",{detail:a});n.dispatchEvent(i)}}}n.addEventListener("mouseout",function(){(r=null!==n.getAttribute("disabled"))||showCurrentRating()}),n.addEventListener("mouseover",function(){(r=null!==n.getAttribute("disabled"))||clearRating()}),showDefaultRating()}return SimpleStarRating}();